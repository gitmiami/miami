<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>従業員番号から氏名表示</title>
<script type="text/javascript" src="../lib/funcs.js"></script>
<script type="text/javascript">
//<![CDATA[
var chkcum = new Array();
var checks = new Array();
function xhrFunc(e){
  var tgtid = getid(e);
	if(tgtid != "select"){
		chkcum.push(tgtid);
    document.getElementById("check1").innerText = tgtid;
    document.getElementById("check2").innerHTML = chkcum;
	}else{
		for(var i = 0; i < chkcum.length; i++){
      if(document.getElementById(chkcum[i]).checked == true)
        checks.push(chkcum[i]);
    }
		var xhrObj = getXhrObj();
  	xhrObj.open("post", "getSel.php", false);
  	xhrObj.setRequestHeader("If-Modified-Since", "01 Jan 2000 00:00:00 GMT");
		xhrObj.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
		alert(checks);
  	xhrObj.send("emp_no="+checks);
    var empName = xhrObj.responseText;
		document.getElementById("emp_name").innerHTML = emp_name; 
	}
}
function initOnLoad(){
  var target = document.getElementById("employees");
  setListener(target, "click", xhrFunc);
}
setListener(window, "load", initOnLoad);
//]]>
</script>
</head>
<body>
<h3>従業員番号から氏名表示</h3>
<div>従業員番号</div>
<p id="employees">
  <input type="checkbox" name="employee" id="A0001" />A0001
  <input type="checkbox" name="employee" id="A0002" />A0002
  <input type="checkbox" name="employee" id="A0003" />A0003
  <input type="checkbox" name="employee" id="A0004" />A0004
  <input type="checkbox" name="employee" id="A0005" />A0005
	<input type="button" id="select" value=" 表示 " />
</p>
<table>
	<tbody>
  	<tr><td>選択確認</td><td id="check1"></td></tr>
  	<tr><td>選択累積</td><td id="check2"></td></tr>
  	<tr><td>受信確認</td><td id="check3"></td></tr>
	</tbody>
</table>
<hr />
従乗員氏名　<nobr id="emp_name"></nobr>
</body>
</html>


