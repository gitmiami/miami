<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<title>matchメソッドを使った検索</title>
<script type="text/javascript">
//<![CDATA[
function strMatch() {
    var str, pattern, flag, r, m, result;

    // フォームに入力された値を得る
    str = document.getElementById("str").value;
    pattern = document.getElementById("pattern").value;
    flag = document.getElementById("flag").value;
    // 検索する
    r = new RegExp(pattern, flag);
    m = str.match(r);
    // 結果を出力する
    if (m) {
        result = "";
        for (i = 0; i < m.length; i++) {
            result += "m[" + i + "] = " + m[i] + "\n";
        }
        document.getElementById("result").value = result;
    }
    else {
        document.getElementById("result").value = "パターンに一致する部分がありませんでした";
    }
}
//]]>
</script>
</head>

<body>
<form name="regexp" method="get" action="">
<table>
<tr>
    <td>検索対象</td>
    <td><textarea rows="5" cols="80" id="str" name="str"></textarea></td>
</tr>
<tr>
    <td>パターン</td>
    <td><input type="text" id="pattern" name="pattern" size="50" /></td>
</tr>
<tr>
    <td>フラグ</td>
    <td><input type="text" id="flag" name="flag" size="5" /></td>
</tr>
</table>
<p>
<input type="button" value="検索" onclick="void(strMatch());" />
<input type="reset" value="消去" />
</p>
<p>
検索結果<br />
<textarea id="result" rows="10" cols="80"></textarea>
</p>
</form>
</body>
</html>
